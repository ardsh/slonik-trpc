"use strict";(self.webpackChunkslonik_trpc_docs=self.webpackChunkslonik_trpc_docs||[]).push([[112],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>g});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),u=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(c.Provider,{value:t},e.children)},l="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),l=u(n),f=a,g=l["".concat(c,".").concat(f)]||l[f]||d[f]||o;return n?r.createElement(g,i(i({ref:t},p),{},{components:n})):r.createElement(g,i({ref:t},p))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=f;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[l]="string"==typeof e?e:a,i[1]=s;for(var u=2;u<o;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},7866:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>l,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var r=n(7462),a=(n(7294),n(3905));const o={sidebar_position:15},i="Cursor-based pagination",s={unversionedId:"usage-main-features/cursor-pagination",id:"usage-main-features/cursor-pagination",title:"Cursor-based pagination",description:"To use cursor-based pagination with the loadPagination function, you can specify the searchAfter option in the pagination arguments. This option takes an object of sortable column values. These values are dependent on the sortable columns option.",source:"@site/docs/usage-main-features/cursor-pagination.md",sourceDirName:"usage-main-features",slug:"/usage-main-features/cursor-pagination",permalink:"/slonik-trpc/docs/usage-main-features/cursor-pagination",draft:!1,editUrl:"https://github.com/ardsh/slonik-trpc/tree/main/docs/docs/usage-main-features/cursor-pagination.md",tags:[],version:"current",sidebarPosition:15,frontMatter:{sidebar_position:15},sidebar:"tutorialSidebar",previous:{title:"Sorting",permalink:"/slonik-trpc/docs/usage-main-features/sorting"},next:{title:"Slonik",permalink:"/slonik-trpc/docs/usage-main-features/slonik"}},c={},u=[{value:"Paging backwards",id:"paging-backwards",level:3}],p={toc:u};function l(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"cursor-based-pagination"},"Cursor-based pagination"),(0,a.kt)("p",null,"To use cursor-based pagination with the loadPagination function, you can specify the searchAfter option in the pagination arguments. This option takes an object of sortable column values. These values are dependent on the ",(0,a.kt)("a",{parentName:"p",href:"/slonik-trpc/docs/usage-main-features/sorting"},"sortable columns")," option."),(0,a.kt)("p",null,"For example, if you want to retrieve the next 25 items in the dataset after a specific cursor, you can do something like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},'const nextPage = await postsLoader.loadPagination({\n    orderBy: [["name", "ASC"], ["id", "ASC"]],\n    searchAfter: {\n        name: "Bob",\n        id: 65,\n    },\n    take: 25,\n});\n')),(0,a.kt)("p",null,"Note that for cursor-based pagination to work, the items need to be sorted by a unique, sequential column or combination of columns."),(0,a.kt)("h3",{id:"paging-backwards"},"Paging backwards"),(0,a.kt)("p",null,"If you specify a negative number for the ",(0,a.kt)("inlineCode",{parentName:"p"},"take")," option, you'll be page to get the previous page:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},'const previousPage = await postsLoader.loadPagination({\n    orderBy: [["name", "DESC"], ["id", "ASC"]],\n    searchAfter: {\n        name: "Bob",\n        id: 65,\n    },\n    take: -25,\n});\n')))}l.isMDXComponent=!0}}]);