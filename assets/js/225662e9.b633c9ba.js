"use strict";(self.webpackChunkslonik_trpc_docs=self.webpackChunkslonik_trpc_docs||[]).push([[509],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>f});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=n.createContext({}),c=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},p="mdxType",y={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=c(r),d=o,f=p["".concat(s,".").concat(d)]||p[d]||y[d]||a;return r?n.createElement(f,i(i({ref:t},u),{},{components:r})):n.createElement(f,i({ref:t},u))}));function f(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:o,i[1]=l;for(var c=2;c<a;c++)i[c]=r[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},7942:(e,t,r)=>{r.r(t),r.d(t,{contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>s});var n=r(7462),o=(r(7294),r(3905));const a={title:"Motivation"},i="Motivation",l={type:"mdx",permalink:"/slonik-trpc/motivation",source:"@site/src/pages/motivation.md",title:"Motivation",description:"Loading tabular data through ORMs is usually either needlessly complex, or very limited.",frontMatter:{title:"Motivation"}},s=[{value:"The R in ORM",id:"the-r-in-orm",level:2}],c={toc:s};function u(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"motivation"},"Motivation"),(0,o.kt)("p",null,"Loading tabular data through ORMs is usually either needlessly complex, or very limited."),(0,o.kt)("h2",{id:"the-r-in-orm"},"The R in ORM"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://theartofpostgresql.com/blog/2019-09-the-r-in-orm/"},"Any SQL query defines a new Relation"),". A relation is a collection of objects that have the same properties."),(0,o.kt)("p",null,"So an ORM should let you define any SQL queries, to be loaded as arrays of objects, not just base tables that are defined initially in your database."),(0,o.kt)("p",null,"This tool is not an ORM, it's a small query composer on top of ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/gajus/slonik"},"slonik"),", that uses ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/colinhacks/zod"},"zod")," to provide type-safety for the outputs as well as the inputs of your data, and so it fits well in a tRPC server."),(0,o.kt)("p",null,"It doesn't try to hide SQL from you, but it does make it easy to write SQL queries, for a very specific and very common use-case, that is creating APIs for querying tabular data with custom filtering and sorting needs."),(0,o.kt)("p",null,"Because it doesn't try to build abstractions to replace PostgreSQL, all PostgreSQL features are already available when declaring your relations."),(0,o.kt)("p",null,"Reusability is as good as your ability to organize queries around into fragments, and then compose them together. Slonik makes this very easy, but you still need to think about which query fragments belong together and which should be separate, then composed together."))}u.isMDXComponent=!0}}]);